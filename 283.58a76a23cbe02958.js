"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[283],{99959:(N,U,s)=>{s.d(U,{J:()=>u});var T,A=s(19212);class u{constructor(){this.version="v1"}buildURN(g,x,v){const C=Array.from(v,([D,P])=>`${D}=${P}`).join(",");return`urn:marketplace:${g}@${this.version};${x}$${C}`}}(T=u).\u0275fac=function(g){return new(g||T)},T.\u0275prov=A.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})},23443:(N,U,s)=>{s.d(U,{N:()=>x});var g,A=s(15861),T=s(54931),u=s(20553),r=s(19212);class x{constructor(){}fetchBaseTokenUSDPrice(){return(0,A.Z)(function*(){return(yield(0,T.qo)(u.N.api.endpoint)("query")({status:[{where:{chain_id:{_eq:u.N.chain.chainId}}},{base_token:!0,base_token_usd:!0}]})).status[0].base_token_usd||0})()}}(g=x).\u0275fac=function(C){return new(C||g)},g.\u0275prov=r.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})},29086:(N,U,s)=>{s.d(U,{t:()=>R});var y,A=s(15861),T=s(96814),u=s(60095),r=s(93800),g=s(84525),x=s(68890),v=s(20553),C=s(54931),E=s(81260),D=s(46711),P=s(20766),F=s(81360),O=s(82785),o=s(19212),e=s(98065),J=s(50167),K=s(14391),W=s(99959);function V(h,p){if(1&h&&(o.TgZ(0,"div",22),o._uU(1),o.ALo(2,"number"),o.ALo(3,"stripSpaces"),o.ALo(4,"stripSpaces"),o.qZA()),2&h){const l=o.oxw();o.xp6(1),o.hij(" You will be selling your tokens for a total of ",o.xi3(2,1,o.lcZ(3,4,l.sellForm.value.basic.amount)*o.lcZ(4,6,l.sellForm.value.basic.price),"1.2-6")," ATOM ")}}function S(h,p){if(1&h&&(o.TgZ(0,"div",23),o._uU(1),o.ALo(2,"number"),o.qZA()),2&h){const l=o.oxw();o.xp6(1),o.hij(" The minimum value of the listing must be at least ",o.xi3(2,1,l.minTradeSize,"1.2-6")," ATOM ")}}function Y(h,p){1&h&&(o.TgZ(0,"div",24)(1,"ion-text",25),o._uU(2,"Loading balance..."),o.qZA()())}function Q(h,p){if(1&h&&(o.TgZ(0,"div",24)(1,"ion-text",25),o._uU(2),o.ALo(3,"number"),o.qZA()()),2&h){const l=o.oxw();o.xp6(2),o.AsE("You can't list more tokens than you have available. Your balance is ",o.xi3(3,2,l.senderBalance,"1.2-6")," ",l.ticker,"")}}class R{constructor(p,l,Z,L,M,w){this.walletService=p,this.chainService=l,this.modalCtrl=Z,this.router=L,this.builder=M,this.protocolService=w,this.ticker="tokens",this.minTradeSize=v.N.fees.protocol.marketplace["list.cft20"].minTradeSize,this.senderBalance=0,this.minDepositAbsolute=v.N.fees.protocol.marketplace["list.cft20"].minDepositAbsolute,this.minDepositPercent=v.N.fees.protocol.marketplace["list.cft20"].minDepositPercent,this.maxDepositPercent=v.N.fees.protocol.marketplace["list.cft20"].maxDepositPercent,this.minTimeout=v.N.fees.protocol.marketplace["list.cft20"].minTimeout,this.maxTimeout=v.N.fees.protocol.marketplace["list.cft20"].maxTimeout,this.loadingBalance=!0,this.maskPredicate=function(){var I=(0,A.Z)(function*(b){return b.getInputElement()});return function(b){return I.apply(this,arguments)}}(),this.decimalMaskPredicate=function(){var I=(0,A.Z)(function*(b){return b.getInputElement()});return function(b){return I.apply(this,arguments)}}(),(0,g.a)({checkmark:x.d29,closeOutline:x.fID,close:x.xvD}),this.sellForm=this.builder.group({basic:this.builder.group({amount:[10,[u.kI.required,u.kI.pattern("^[0-9. ]*$")]],price:[.1,[u.kI.required,u.kI.pattern("^[0-9. ]*$")]],minDeposit:[this.minDepositPercent,[u.kI.required,u.kI.min(this.minDepositPercent),u.kI.max(this.maxDepositPercent),u.kI.pattern("^[0-9. ]*$")]],timeoutBlocks:[this.minTimeout,[u.kI.required,u.kI.min(this.minTimeout),u.kI.max(this.maxTimeout),u.kI.pattern("^[0-9 ]*$")]]})}),this.numberMask=(0,E.f8)({decimalSeparator:".",thousandSeparator:" ",precision:0,min:1}),this.decimalMask=(0,E.f8)({decimalSeparator:".",thousandSeparator:" ",precision:6,min:0})}ngOnInit(){var p=this;return(0,A.Z)(function*(){const l=yield p.walletService.getAccount(),Z=(0,C.qo)(v.N.api.endpoint),L=yield Z("query")({token:[{where:{ticker:{_eq:p.ticker}}},{id:!0,decimals:!0,last_price_base:!0}]}),M=yield Z("query")({token_holder:[{where:{address:{_eq:l.address},token_id:{_eq:L.token[0].id}}},{amount:!0}]});p.loadingBalance=!1,M.token_holder.length>0&&(p.senderBalance=F.u.prototype.transform(parseInt(M.token_holder[0].amount),L.token[0].decimals))})()}submit(){var p=this;return(0,A.Z)(function*(){if(!p.sellForm.valid)return void p.sellForm.markAllAsTouched();p.modalCtrl.dismiss();const l=O.C.prototype.transform(p.sellForm.value.basic.amount).toString(),Z=O.C.prototype.transform(p.sellForm.value.basic.price).toString(),M=parseFloat(O.C.prototype.transform(p.sellForm.value.basic.minDeposit).toString())/100,w=O.C.prototype.transform(p.sellForm.value.basic.timeoutBlocks).toString(),I=new Map([["tic",p.ticker],["amt",l],["ppt",Z],["mindep",M.toString()],["to",w]]);let b=parseFloat(l)*parseFloat(Z)*M;b<p.minDepositAbsolute&&(b=p.minDepositAbsolute),b*=10**6,b=Math.floor(b);const q=p.protocolService.buildURN(v.N.chain.chainId,"list.cft20",I);(yield p.modalCtrl.create({keyboardClose:!0,backdropDismiss:!1,component:P.l,componentProps:{urn:q,metadata:null,data:null,routerLink:["/app/manage/token",p.ticker],resultCTA:"View transaction",metaprotocol:"marketplace",metaprotocolAction:"list.cft20",overrideFee:b}})).present()})()}cancel(){this.modalCtrl.dismiss()}}(y=R).\u0275fac=function(p){return new(p||y)(o.Y36(e.X),o.Y36(J.l),o.Y36(r.IN),o.Y36(K.F0),o.Y36(u.qu),o.Y36(W.J))},y.\u0275cmp=o.Xpm({type:y,selectors:[["app-sell-modal"]],inputs:{ticker:"ticker"},standalone:!0,features:[o.jDz],decls:66,vars:39,consts:[["mode","md",1,"main-content"],[1,"form",3,"formGroup","ngSubmit"],[1,"p-3"],[1,"text-center"],["size-md","6","size","12"],["formGroupName","basic"],[1,"mt-4"],["label","Amount to sell","labelPlacement","stacked","fill","outline","placeholder","10","formControlName","amount",3,"maskito","maskitoElement"],["label","Price per token","labelPlacement","stacked","fill","outline","placeholder","10","formControlName","price",3,"maskito","maskitoElement"],["toggleIconSlot","start"],["slot","header"],["slot","content",1,"ion-padding"],[1,"note"],[1,"mt-4","w-50"],["label","Minimum deposit required","labelPlacement","stacked","fill","outline","placeholder","10","formControlName","minDeposit",3,"maskito","maskitoElement"],["label","Timout in blocks","labelPlacement","stacked","fill","outline","placeholder","5","formControlName","timeoutBlocks",3,"maskito","maskitoElement"],["class","p-3 mt-4 mb-4 confirmation",4,"ngIf"],["class","p-3 mt-4 mb-4 color-danger",4,"ngIf"],["class","p-3 mt-4 mb-4",4,"ngIf"],[1,"action"],["color","success","type","submit",3,"disabled"],["color","primary","fill","clear",3,"click"],[1,"p-3","mt-4","mb-4","confirmation"],[1,"p-3","mt-4","mb-4","color-danger"],[1,"p-3","mt-4","mb-4"],["color","warning"]],template:function(p,l){1&p&&(o.TgZ(0,"ion-content",0)(1,"form",1),o.NdJ("ngSubmit",function(){return l.submit()}),o.TgZ(2,"ion-grid",2)(3,"ion-row")(4,"ion-col",3)(5,"h2"),o._uU(6),o.qZA()()(),o.TgZ(7,"ion-row")(8,"ion-col")(9,"p"),o._uU(10," This transaction will list your tokens for sale"),o._UZ(11,"br"),o._uU(12,"You'll only receive the ATOM from the sale should someone purchase them "),o.qZA(),o.TgZ(13,"p"),o._uU(14," Sales are final and can't be refunded. You may cancel a listing at any time before a successful reservation "),o.qZA()()(),o.TgZ(15,"ion-row")(16,"ion-col",4)(17,"div",5)(18,"div",6),o._UZ(19,"ion-input",7),o.qZA()()(),o.TgZ(20,"ion-col",4)(21,"div",5)(22,"div",6),o._UZ(23,"ion-input",8),o.qZA()()()(),o.TgZ(24,"ion-row")(25,"ion-col")(26,"ion-accordion-group")(27,"ion-accordion",9)(28,"ion-item",10)(29,"ion-label"),o._uU(30,"Advanced"),o.qZA()(),o.TgZ(31,"div",11)(32,"p",12),o._uU(33," You do not need to adjust these parameters. The defaults should suffice. "),o.qZA(),o.TgZ(34,"div",5)(35,"div",13),o._UZ(36,"ion-input",14),o.TgZ(37,"span",12),o._uU(38),o.qZA()(),o.TgZ(39,"div",13),o._UZ(40,"ion-input",15),o.TgZ(41,"span",12),o._uU(42),o.qZA()()()()()()()(),o.TgZ(43,"ion-row")(44,"ion-col"),o.YNc(45,V,5,8,"div",16),o.ALo(46,"stripSpaces"),o.ALo(47,"stripSpaces"),o.ALo(48,"stripSpaces"),o.YNc(49,S,3,4,"div",17),o.ALo(50,"stripSpaces"),o.ALo(51,"stripSpaces"),o.ALo(52,"stripSpaces"),o.YNc(53,Y,3,0,"div",18)(54,Q,4,5,"div",18),o.ALo(55,"stripSpaces"),o.qZA()(),o.TgZ(56,"ion-row")(57,"ion-col")(58,"div",19)(59,"ion-button",20),o.ALo(60,"stripSpaces"),o.ALo(61,"stripSpaces"),o.ALo(62,"stripSpaces"),o._uU(63,"Confirm and list"),o.qZA(),o.TgZ(64,"ion-button",21),o.NdJ("click",function(){return l.cancel()}),o._uU(65,"Cancel"),o.qZA()()()()()()()),2&p&&(o.xp6(1),o.Q6J("formGroup",l.sellForm),o.xp6(5),o.hij("List ",l.ticker," for sale"),o.xp6(13),o.Q6J("maskito",l.decimalMask)("maskitoElement",l.maskPredicate),o.xp6(4),o.Q6J("maskito",l.decimalMask)("maskitoElement",l.maskPredicate),o.xp6(13),o.Q6J("maskito",l.decimalMask)("maskitoElement",l.maskPredicate),o.xp6(2),o.AsE("This is the minimum percent someone needs to pay to reserve the listing, ",l.minDepositPercent,"% - ",l.maxDepositPercent,"%"),o.xp6(2),o.Q6J("maskito",l.decimalMask)("maskitoElement",l.maskPredicate),o.xp6(2),o.AsE("How long a reservation will be valid for, ",l.minTimeout," - ",l.maxTimeout," blocks"),o.xp6(3),o.Q6J("ngIf",o.lcZ(46,19,l.sellForm.value.basic.amount)*o.lcZ(47,21,l.sellForm.value.basic.price)>=l.minTradeSize&&o.lcZ(48,23,l.sellForm.value.basic.amount)<=l.senderBalance),o.xp6(4),o.Q6J("ngIf",o.lcZ(50,25,l.sellForm.value.basic.amount)*o.lcZ(51,27,l.sellForm.value.basic.price)<l.minTradeSize&&o.lcZ(52,29,l.sellForm.value.basic.amount)<l.senderBalance),o.xp6(4),o.Q6J("ngIf",l.loadingBalance),o.xp6(1),o.Q6J("ngIf",!l.loadingBalance&&o.lcZ(55,31,l.sellForm.value.basic.amount)>l.senderBalance),o.xp6(5),o.Q6J("disabled",o.lcZ(60,33,l.sellForm.value.basic.amount)*o.lcZ(61,35,l.sellForm.value.basic.price)<l.minTradeSize||o.lcZ(62,37,l.sellForm.value.basic.amount)>l.senderBalance))},dependencies:[r.Pc,r.We,r.eh,r.YG,r.wI,r.W2,r.jY,r.pK,r.Ie,r.Q$,r.Nd,r.yW,r.j9,u.UX,u._Y,u.JJ,u.JL,u.sg,u.u,u.x0,T.ez,T.O5,T.JJ,u.u5,D.U5,D.ro,O.C],styles:["ion-content[_ngcontent-%COMP%]{--background: hsla(0, 0%, 100%, .05) !important;background-color:#ffffff0d!important;-webkit-backdrop-filter:blur(50px);backdrop-filter:blur(50px);height:100%;border-radius:10px;padding:20px;transition:all .2s ease-in-out}.confirmation[_ngcontent-%COMP%]{background-color:#0003;border-radius:10px;border:1px solid var(--color-teal)}.action[_ngcontent-%COMP%]{position:relative;bottom:20px;width:100%;text-align:center}.note[_ngcontent-%COMP%]{font-size:11px;color:#fff9}ion-list[_ngcontent-%COMP%], ion-item[_ngcontent-%COMP%], ion-list-header[_ngcontent-%COMP%], ion-label[_ngcontent-%COMP%], ion-accordion[_ngcontent-%COMP%], ion-accordion-group[_ngcontent-%COMP%]{--background: transparent;--ion-background-color: transparent !important;--background-color: transparent !important;background-color:transparent!important}ion-item[slot=header][_ngcontent-%COMP%]{color:#fff}ion-item[slot=header][_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{padding:0!important;margin:0!important}ion-accordion[_ngcontent-%COMP%]::part(expanded){background-color:#1e1e1e1a!important}ion-list-header[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{text-transform:uppercase;color:#fff;padding:0;margin:0}ion-item[_ngcontent-%COMP%]{--min-height: 25px;padding:0;--padding-bottom: 0px;--inner-padding-bottom: 0px}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin-left:10px;--min-height: 25px;height:20px;padding:0;color:#ccc}"]})},283:(N,U,s)=>{s.r(U),s.d(U,{TradeTokenV2Page:()=>H});var S,A=s(15861),T=s(96814),u=s(60095),r=s(93800),g=s(20553),x=s(54931),v=s(54481),C=s(81360),E=s(20766),D=s(35116),P=s(35768),F=s(29086),O=s(241),o=s(71255),e=s(19212),J=s(14391),K=s(99959),W=s(98065),y=s(23443),V=s(85219);function Y(n,i){if(1&n&&(e.TgZ(0,"ion-content",12),e._UZ(1,"br")(2,"br")(3,"br")(4,"br")(5,"br")(6,"br")(7,"br")(8,"br")(9,"br")(10,"br"),e.TgZ(11,"h2",13),e._uU(12),e.qZA(),e._UZ(13,"br")(14,"br")(15,"br")(16,"br")(17,"br")(18,"br")(19,"br"),e.qZA()),2&n){const t=e.oxw();e.xp6(12),e.Oqu(t.loadingListing)}}function Q(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.token.ticker)}}function R(n,i){1&n&&(e.TgZ(0,"div",14),e._UZ(1,"ion-progress-bar",15),e.TgZ(2,"p"),e._uU(3," Loading market... "),e.qZA()())}function h(n,i){if(1&n&&(e.TgZ(0,"tr")(1,"th",36),e._uU(2,"Listing # "),e._UZ(3,"p-sortIcon",37),e.qZA(),e.TgZ(4,"th",38),e._uU(5,"ATOM per Token "),e._UZ(6,"p-sortIcon",39),e.qZA(),e.TgZ(7,"th",40),e._uU(8),e._UZ(9,"p-sortIcon",41),e.qZA(),e.TgZ(10,"th",42),e._uU(11,"Total ATOM "),e._UZ(12,"p-sortIcon",43),e.qZA(),e.TgZ(13,"th",44),e._uU(14,"Minimum Deposit "),e._UZ(15,"p-sortIcon",45),e.qZA(),e.TgZ(16,"th",46),e._uU(17,"Listed "),e._UZ(18,"p-sortIcon",47),e.qZA(),e.TgZ(19,"th"),e._uU(20,"\xa0"),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(8),e.hij("",t.token.ticker," Tokens ")}}function p(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"ion-button",54),e.NdJ("click",function(){e.CHM(t);const d=e.oxw().$implicit,c=e.oxw(3);return e.KtG(c.deposit(d.marketplace_listing.transaction.hash))}),e._uU(1,"Reserve"),e.qZA()}}function l(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"ion-button",54),e.NdJ("click",function(){e.CHM(t);const d=e.oxw().$implicit,c=e.oxw(3);return e.KtG(c.buy(d.marketplace_listing.transaction.hash))}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw().$implicit,a=e.oxw(3);e.xp6(1),e.hij("Buy (",t.marketplace_listing.depositor_timedout_block-a.currentBlock,")")}}function Z(n,i){if(1&n&&(e.TgZ(0,"ion-text"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit,a=e.oxw(3);e.xp6(1),e.hij("RESERVED (",t.marketplace_listing.depositor_timedout_block-a.currentBlock,")")}}function L(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"ion-button",55),e.NdJ("click",function(){e.CHM(t);const d=e.oxw().$implicit,c=e.oxw(3);return e.KtG(c.cancel(d.marketplace_listing.transaction.hash))}),e._uU(1,"Cancel"),e.qZA()}}function M(n,i){if(1&n&&(e.TgZ(0,"ion-text"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit,a=e.oxw(3);e.xp6(1),e.hij("RESERVED (",t.marketplace_listing.depositor_timedout_block-a.currentBlock,")")}}function w(n,i){if(1&n&&(e.TgZ(0,"tr",48)(1,"td",49),e._uU(2),e.qZA(),e.TgZ(3,"td",50),e._uU(4),e.ALo(5,"number"),e.ALo(6,"tokenDecimals"),e.ALo(7,"number"),e.ALo(8,"tokenDecimals"),e.qZA(),e.TgZ(9,"td",50),e._uU(10),e.ALo(11,"number"),e.ALo(12,"tokenDecimals"),e.qZA(),e.TgZ(13,"td",50),e._uU(14),e.ALo(15,"number"),e.ALo(16,"tokenDecimals"),e.ALo(17,"number"),e.ALo(18,"tokenDecimals"),e.qZA(),e.TgZ(19,"td",50),e._uU(20),e.ALo(21,"number"),e.qZA(),e.TgZ(22,"td"),e._uU(23),e.ALo(24,"dateAgo"),e.qZA(),e.TgZ(25,"td",51),e.YNc(26,p,2,0,"ion-button",52)(27,l,2,1,"ion-button",52)(28,Z,2,1,"ion-text",7)(29,L,2,0,"ion-button",53)(30,M,2,1,"ion-text",7),e.qZA()()),2&n){const t=i.$implicit,a=e.oxw(3);e.xp6(2),e.Oqu(t.id),e.xp6(2),e.AsE("",e.xi3(5,13,e.xi3(6,16,t.ppt,6),"1.6-6")," ($",e.xi3(7,19,e.xi3(8,22,t.ppt*a.baseTokenUSD,6),"1.6-6"),")"),e.xp6(6),e.Oqu(e.xi3(11,25,e.xi3(12,28,t.amount,a.token.decimals),"1.6-6")),e.xp6(4),e.AsE("",e.xi3(15,31,e.xi3(16,34,t.marketplace_listing.total,6),"1.6-6")," ($",e.xi3(17,37,e.xi3(18,40,t.marketplace_listing.total*a.baseTokenUSD,6),"1.6-6"),")"),e.xp6(6),e.hij("",e.xi3(21,43,t.marketplace_listing.deposit_total/t.marketplace_listing.total*100,"1.1-3"),"% "),e.xp6(3),e.hij(" ",e.lcZ(24,46,t.date_created),""),e.xp6(3),e.Q6J("ngIf",t.marketplace_listing.seller_address!=a.walletAddress&&(!t.marketplace_listing.is_deposited||t.marketplace_listing.depositor_timedout_block<a.currentBlock)),e.xp6(1),e.Q6J("ngIf",t.marketplace_listing.seller_address!=a.walletAddress&&t.marketplace_listing.is_deposited&&t.marketplace_listing.depositor_address==a.walletAddress&&t.marketplace_listing.depositor_timedout_block>a.currentBlock),e.xp6(1),e.Q6J("ngIf",t.marketplace_listing.seller_address!=a.walletAddress&&t.marketplace_listing.is_deposited&&t.marketplace_listing.depositor_address!=a.walletAddress&&t.marketplace_listing.depositor_timedout_block>a.currentBlock),e.xp6(1),e.Q6J("ngIf",t.marketplace_listing.seller_address==a.walletAddress&&(!t.marketplace_listing.is_deposited||t.marketplace_listing.depositor_timedout_block<a.currentBlock)),e.xp6(1),e.Q6J("ngIf",t.marketplace_listing.seller_address==a.walletAddress&&t.marketplace_listing.is_deposited&&t.marketplace_listing.depositor_address!=a.walletAddress&&t.marketplace_listing.depositor_timedout_block>a.currentBlock)}}function I(n,i){1&n&&(e.TgZ(0,"tr")(1,"td",56),e._uU(2,"No listings found"),e.qZA()())}const b=()=>({"min-width":"30rem"}),q=()=>["name","ticker"];function j(n,i){if(1&n&&(e.TgZ(0,"div")(1,"div",30)(2,"h4"),e._uU(3,"Your reserved listings"),e.qZA()(),e.TgZ(4,"p-table",31,32),e.YNc(6,h,21,1,"ng-template",33)(7,w,31,48,"ng-template",34)(8,I,3,0,"ng-template",35),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("value",t.depositedListings)("tableStyle",e.DdM(7,b))("paginator",!0)("rows",100)("showCurrentPageReport",!0)("globalFilterFields",e.DdM(8,q))("defaultSortOrder",-1)}}function ee(n,i){1&n&&(e.TgZ(0,"div",30)(1,"h4"),e._uU(2,"All listings"),e.qZA()())}function te(n,i){if(1&n&&(e.TgZ(0,"tr")(1,"th",36),e._uU(2,"Listing # "),e._UZ(3,"p-sortIcon",37),e.qZA(),e.TgZ(4,"th",38),e._uU(5,"ATOM per Token "),e._UZ(6,"p-sortIcon",39),e.qZA(),e.TgZ(7,"th",40),e._uU(8),e._UZ(9,"p-sortIcon",41),e.qZA(),e.TgZ(10,"th",42),e._uU(11,"Total ATOM "),e._UZ(12,"p-sortIcon",43),e.qZA(),e.TgZ(13,"th",44),e._uU(14,"Minimum Deposit "),e._UZ(15,"p-sortIcon",45),e.qZA(),e.TgZ(16,"th",46),e._uU(17,"Listed "),e._UZ(18,"p-sortIcon",47),e.qZA(),e.TgZ(19,"th"),e._uU(20,"\xa0"),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(8),e.hij("",t.token.ticker," Tokens ")}}function oe(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"ion-button",54),e.NdJ("click",function(){e.CHM(t);const d=e.oxw().$implicit,c=e.oxw(3);return e.KtG(c.deposit(d.marketplace_listing.transaction.hash))}),e._uU(1,"Reserve"),e.qZA()}}function ie(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"ion-button",54),e.NdJ("click",function(){e.CHM(t);const d=e.oxw().$implicit,c=e.oxw(3);return e.KtG(c.buy(d.marketplace_listing.transaction.hash))}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw().$implicit,a=e.oxw(3);e.xp6(1),e.hij("Buy (",t.marketplace_listing.depositor_timedout_block-a.currentBlock,")")}}function ne(n,i){if(1&n&&(e.TgZ(0,"ion-text"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit,a=e.oxw(3);e.xp6(1),e.hij("RESERVED (",t.marketplace_listing.depositor_timedout_block-a.currentBlock,")")}}function ae(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"ion-button",55),e.NdJ("click",function(){e.CHM(t);const d=e.oxw().$implicit,c=e.oxw(3);return e.KtG(c.cancel(d.marketplace_listing.transaction.hash))}),e._uU(1,"Cancel"),e.qZA()}}function le(n,i){if(1&n&&(e.TgZ(0,"ion-text"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit,a=e.oxw(3);e.xp6(1),e.hij("RESERVED (",t.marketplace_listing.depositor_timedout_block-a.currentBlock,")")}}function se(n,i){if(1&n&&(e.TgZ(0,"tr",48)(1,"td",49),e._uU(2),e.qZA(),e.TgZ(3,"td",50),e._uU(4),e.ALo(5,"number"),e.ALo(6,"tokenDecimals"),e.ALo(7,"number"),e.ALo(8,"tokenDecimals"),e.qZA(),e.TgZ(9,"td",50),e._uU(10),e.ALo(11,"number"),e.ALo(12,"tokenDecimals"),e.qZA(),e.TgZ(13,"td",50),e._uU(14),e.ALo(15,"number"),e.ALo(16,"tokenDecimals"),e.ALo(17,"number"),e.ALo(18,"tokenDecimals"),e.qZA(),e.TgZ(19,"td",50),e._uU(20),e.ALo(21,"number"),e.qZA(),e.TgZ(22,"td"),e._uU(23),e.ALo(24,"dateAgo"),e.qZA(),e.TgZ(25,"td",51),e.YNc(26,oe,2,0,"ion-button",52)(27,ie,2,1,"ion-button",52)(28,ne,2,1,"ion-text",7)(29,ae,2,0,"ion-button",53)(30,le,2,1,"ion-text",7),e.qZA()()),2&n){const t=i.$implicit,a=e.oxw(3);e.xp6(2),e.Oqu(t.id),e.xp6(2),e.AsE("",e.xi3(5,13,e.xi3(6,16,t.ppt,6),"1.6-6")," ($",e.xi3(7,19,e.xi3(8,22,t.ppt*a.baseTokenUSD,6),"1.6-6"),")"),e.xp6(6),e.Oqu(e.xi3(11,25,e.xi3(12,28,t.amount,a.token.decimals),"1.6-6")),e.xp6(4),e.AsE("",e.xi3(15,31,e.xi3(16,34,t.marketplace_listing.total,6),"1.6-6")," ($",e.xi3(17,37,e.xi3(18,40,t.marketplace_listing.total*a.baseTokenUSD,6),"1.6-6"),")"),e.xp6(6),e.hij("",e.xi3(21,43,t.marketplace_listing.deposit_total/t.marketplace_listing.total*100,"1.1-6"),"% "),e.xp6(3),e.hij(" ",e.lcZ(24,46,t.date_created),""),e.xp6(3),e.Q6J("ngIf",t.marketplace_listing.seller_address!=a.walletAddress&&(!t.marketplace_listing.is_deposited||t.marketplace_listing.depositor_timedout_block<a.currentBlock)),e.xp6(1),e.Q6J("ngIf",t.marketplace_listing.seller_address!=a.walletAddress&&t.marketplace_listing.is_deposited&&t.marketplace_listing.depositor_address==a.walletAddress&&t.marketplace_listing.depositor_timedout_block>a.currentBlock),e.xp6(1),e.Q6J("ngIf",t.marketplace_listing.seller_address!=a.walletAddress&&t.marketplace_listing.is_deposited&&t.marketplace_listing.depositor_address!=a.walletAddress&&t.marketplace_listing.depositor_timedout_block>a.currentBlock),e.xp6(1),e.Q6J("ngIf",t.marketplace_listing.seller_address==a.walletAddress&&(!t.marketplace_listing.is_deposited||t.marketplace_listing.depositor_timedout_block<a.currentBlock)),e.xp6(1),e.Q6J("ngIf",t.marketplace_listing.seller_address==a.walletAddress&&t.marketplace_listing.is_deposited&&t.marketplace_listing.depositor_address!=a.walletAddress&&t.marketplace_listing.depositor_timedout_block>a.currentBlock)}}function re(n,i){1&n&&(e.TgZ(0,"tr")(1,"td",56),e._uU(2,"No listings found"),e.qZA()())}function _e(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-table",57,32),e.NdJ("sortFunction",function(d){e.CHM(t);const c=e.oxw(2);return e.KtG(c.customSort(d))}),e.YNc(2,te,21,1,"ng-template",33)(3,se,31,48,"ng-template",34)(4,re,3,0,"ng-template",35),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("customSort",!0)("value",t.listings)("tableStyle",e.DdM(8,b))("paginator",!0)("rows",100)("showCurrentPageReport",!0)("globalFilterFields",e.DdM(9,q))("defaultSortOrder",1)}}function ce(n,i){if(1&n&&(e.TgZ(0,"tr")(1,"th",59),e._uU(2,"ATOM per Token "),e._UZ(3,"p-sortIcon",60),e.qZA(),e.TgZ(4,"th",61),e._uU(5),e._UZ(6,"p-sortIcon",62),e.qZA(),e.TgZ(7,"th",63),e._uU(8,"USD "),e._UZ(9,"p-sortIcon",64),e.qZA(),e.TgZ(10,"th",65),e._uU(11,"Seller"),e._UZ(12,"p-sortIcon",66),e.qZA(),e.TgZ(13,"th",67),e._uU(14,"Buyer"),e._UZ(15,"p-sortIcon",68),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(5),e.hij("",t.token.ticker," ")}}const G=()=>({wordBreak:"break-all"});function de(n,i){if(1&n&&(e.TgZ(0,"tr",48)(1,"td",50),e._uU(2),e.ALo(3,"number"),e.ALo(4,"tokenDecimals"),e.ALo(5,"number"),e.ALo(6,"tokenDecimals"),e.qZA(),e.TgZ(7,"td",50),e._uU(8),e.ALo(9,"number"),e.ALo(10,"tokenDecimals"),e.qZA(),e.TgZ(11,"td",50),e._uU(12),e.ALo(13,"number"),e.qZA(),e.TgZ(14,"td",69)(15,"a",70),e._uU(16),e.ALo(17,"async"),e.ALo(18,"shortenAddress"),e.qZA()(),e.TgZ(19,"td",69)(20,"a",70),e._uU(21),e.ALo(22,"async"),e.ALo(23,"shortenAddress"),e.qZA()()()),2&n){const t=i.$implicit,a=e.oxw(3);e.xp6(2),e.AsE("",e.xi3(3,10,e.xi3(4,13,t.rate,6),"1.6-6")," ($",e.xi3(5,16,e.xi3(6,19,t.rate*a.baseTokenUSD,6),"1.6-6"),")"),e.xp6(6),e.Oqu(e.xi3(9,22,e.xi3(10,25,t.amount_base,a.token.decimals),"1.6-6")),e.xp6(4),e.hij("$",e.xi3(13,28,t.total_usd,"1.2-2"),""),e.xp6(2),e.Q6J("ngStyle",e.DdM(39,G)),e.xp6(1),e.Q6J("href","/app/wallet/"+t.seller_address,e.LSH),e.xp6(1),e.Oqu(e.lcZ(17,31,e.lcZ(18,33,t.seller_address))),e.xp6(3),e.Q6J("ngStyle",e.DdM(40,G)),e.xp6(1),e.Q6J("href","/app/wallet/"+t.buyer_address,e.LSH),e.xp6(1),e.Oqu(e.lcZ(22,35,e.lcZ(23,37,t.buyer_address)))}}function pe(n,i){1&n&&e._UZ(0,"tr")}function ue(n,i){if(1&n&&(e.TgZ(0,"p-table",58,32),e.YNc(2,ce,16,1,"ng-template",33)(3,de,24,41,"ng-template",34)(4,pe,1,0,"ng-template",35),e.qZA()),2&n){const t=e.oxw(2);e.Q6J("value",t.activity)("tableStyle",e.DdM(7,b))("paginator",!0)("rows",100)("showCurrentPageReport",!0)("globalFilterFields",e.DdM(8,q))("sortOrder",-1)}}function me(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",16)(1,"ion-grid")(2,"ion-row")(3,"ion-col",17)(4,"div",18)(5,"span",19),e._uU(6," ATOM / USD "),e.qZA(),e.TgZ(7,"span",20),e._uU(8),e.ALo(9,"number"),e.qZA()()(),e.TgZ(10,"ion-col",17)(11,"div",18)(12,"span",19),e._uU(13),e.qZA(),e.TgZ(14,"span",20),e._uU(15),e.ALo(16,"tokenDecimals"),e.ALo(17,"number"),e.ALo(18,"tokenDecimals"),e.qZA()()(),e.TgZ(19,"ion-col",17)(20,"div",18)(21,"span",19),e._uU(22," 24H Volume "),e.qZA(),e.TgZ(23,"span",20),e._uU(24),e.ALo(25,"number"),e.ALo(26,"tokenDecimals"),e.ALo(27,"number"),e.ALo(28,"tokenDecimals"),e.qZA()()()(),e.TgZ(29,"ion-row")(30,"ion-col",21)(31,"ion-button",22),e.NdJ("click",function(){e.CHM(t);const d=e.oxw();return e.KtG(d.listSale())}),e._uU(32),e.qZA()()()(),e.YNc(33,j,9,9,"div",7),e.TgZ(34,"div"),e.YNc(35,ee,3,0,"div",23),e.TgZ(36,"ion-row")(37,"ion-col",24)(38,"ion-segment",25),e.NdJ("ionChange",function(d){e.CHM(t);const c=e.oxw();return e.KtG(c.sectionChanged(d))}),e.TgZ(39,"ion-segment-button",26)(40,"ion-label"),e._uU(41,"Buy"),e.qZA()(),e.TgZ(42,"ion-segment-button",27)(43,"ion-label"),e._uU(44,"Activity"),e.qZA()()()()(),e.YNc(45,_e,5,10,"p-table",28)(46,ue,5,9,"p-table",29),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(8),e.hij(" $",e.xi3(9,11,t.baseTokenUSD,"1.2-6")," "),e.xp6(5),e.hij(" ",t.token.ticker," / ATOM "),e.xp6(2),e.AsE(" ",e.xi3(16,14,t.token.last_price_base,t.token.decimals)," ATOM ($",e.xi3(17,17,t.baseTokenUSD*e.xi3(18,20,t.token.last_price_base,t.token.decimals),"1.2-6"),") "),e.xp6(9),e.AsE(" ",e.xi3(25,23,e.xi3(26,26,t.token.volume_24_base,6),"1.2-6")," ATOM ($",e.xi3(27,29,t.baseTokenUSD*e.xi3(28,32,t.token.volume_24_base,6),"1.2-6"),") "),e.xp6(8),e.hij("Sell ",t.token.ticker," tokens"),e.xp6(1),e.Q6J("ngIf",t.depositedListings.length>0),e.xp6(2),e.Q6J("ngIf",t.depositedListings.length>0),e.xp6(10),e.Q6J("ngIf","buy"==t.selectedSection),e.xp6(1),e.Q6J("ngIf","activity"==t.selectedSection)}}class H{constructor(i,t,a,d,c,k){this.activatedRoute=i,this.protocolService=t,this.modalCtrl=a,this.alertController=d,this.walletService=c,this.priceService=k,this.isLoading=!1,this.explorerTxUrl=g.N.api.explorer,this.tokenIsLaunched=!1,this.baseTokenUSD=0,this.walletAddress="",this.selectedSection="buy",this.currentBlock=0,this.limit=2e3,this.loadingListing=!1,this.tokenLaunchDate=new Date}sectionChanged(i){this.selectedSection=i.detail.value}ngOnInit(){var i=this;return(0,A.Z)(function*(){i.isLoading=!0,(yield i.walletService.isConnected())&&(i.walletAddress=(yield i.walletService.getAccount()).address);const a=(0,x.qo)(g.N.api.endpoint),[d,c]=yield Promise.all([a("query")({token:[{where:{ticker:{_eq:i.activatedRoute.snapshot.params.quote.toUpperCase()}}},{id:!0,height:!0,transaction:{hash:!0},creator:!0,current_owner:!0,name:!0,ticker:!0,decimals:!0,max_supply:!0,per_mint_limit:!0,launch_timestamp:!0,content_path:!0,content_size_bytes:!0,circulating_supply:!0,last_price_base:!0,volume_24_base:!0,date_created:!0}]}),a("query")({status:[{where:{chain_id:{_eq:g.N.chain.chainId}}},{base_token:!0,base_token_usd:!0,last_processed_height:!0}]})]);i.token=d.token[0],i.baseTokenUSD=c.status[0].base_token_usd,i.currentBlock=c.status[0].last_processed_height,a("query")({token_trade_history:[{where:{_and:[{token:{ticker:{_eq:i.activatedRoute.snapshot.params.quote.toUpperCase()}}}]},limit:500,order_by:[{transaction_id:"desc"}]},{amount_base:!0,buyer_address:!0,seller_address:!0,rate:!0,total_usd:!0}]}).then(_=>{i.activity=_.token_trade_history.map(m=>({...m}))}),yield Promise.all([a("query")({marketplace_cft20_detail:[{where:{token_id:{_eq:i.token.id},marketplace_listing:{is_cancelled:{_eq:!1},is_filled:{_eq:!1}}},limit:i.limit,order_by:[{ppt:"asc"}]},{id:!0,marketplace_listing:{seller_address:!0,total:!0,depositor_address:!0,is_deposited:!0,depositor_timedout_block:!0,deposit_total:!0,transaction:{hash:!0}},ppt:!0,amount:!0,date_created:!0}]}).then(_=>i.listings=_.marketplace_cft20_detail),a("query")({marketplace_cft20_detail:[{where:{token_id:{_eq:i.token.id},marketplace_listing:{is_cancelled:{_eq:!1},is_filled:{_eq:!1},is_deposited:{_eq:!0},depositor_address:{_eq:i.walletAddress},depositor_timedout_block:{_gt:i.currentBlock}}},limit:i.limit},{id:!0,marketplace_listing:{seller_address:!0,total:!0,depositor_address:!0,is_deposited:!0,depositor_timedout_block:!0,deposit_total:!0,transaction:{hash:!0}},ppt:!0,amount:!0,date_created:!0}]}).then(_=>i.depositedListings=_.marketplace_cft20_detail)]);const k=(0,x.w0)(g.N.api.wss);k("subscription")({status:[{where:{chain_id:{_eq:g.N.chain.chainId}}},{base_token:!0,base_token_usd:!0,last_processed_height:!0}]}).on(({status:_})=>{i.baseTokenUSD=_[0].base_token_usd,i.currentBlock=_[0].last_processed_height}),k("subscription")({marketplace_cft20_detail:[{where:{token_id:{_eq:i.token.id},marketplace_listing:{is_cancelled:{_eq:!1},is_filled:{_eq:!1}}},limit:i.limit},{id:!0,marketplace_listing:{seller_address:!0,total:!0,depositor_address:!0,is_deposited:!0,depositor_timedout_block:!0,deposit_total:!0,transaction:{hash:!0}},ppt:!0,amount:!0,date_created:!0}]}).on(({marketplace_cft20_detail:_})=>{i.listings=_}),k("subscription")({marketplace_cft20_detail:[{where:{token_id:{_eq:i.token.id},marketplace_listing:{is_cancelled:{_eq:!1},is_filled:{_eq:!1},is_deposited:{_eq:!0},depositor_address:{_eq:i.walletAddress},depositor_timedout_block:{_gt:i.currentBlock}}},limit:i.limit},{id:!0,marketplace_listing:{seller_address:!0,total:!0,depositor_address:!0,is_deposited:!0,depositor_timedout_block:!0,deposit_total:!0,transaction:{hash:!0}},ppt:!0,amount:!0,date_created:!0}]}).on(({marketplace_cft20_detail:_})=>{i.depositedListings=_}),k("subscription")({token_trade_history:[{where:{_and:[{token:{ticker:{_eq:i.activatedRoute.snapshot.params.quote.toUpperCase()}}}]},limit:500,order_by:[{transaction_id:"desc"}]},{amount_base:!0,buyer_address:!0,seller_address:!0,rate:!0,total_usd:!0}]}).on(({token_trade_history:_})=>{i.activity=_.map(m=>({...m}))}),i.isLoading=!1})()}deposit(i){var t=this;return(0,A.Z)(function*(){t.loadingListing="Loading listing...";const d=yield(0,x.qo)(g.N.api.endpoint)("query")({marketplace_listing:[{where:{transaction:{hash:{_eq:i}}}},{seller_address:!0,total:!0,deposit_total:!0,is_deposited:!0,is_cancelled:!0,is_filled:!0}]});if(t.loadingListing=!1,0==d.marketplace_listing.length)return void alert("Listing not found");const c=d.marketplace_listing[0],k=c.deposit_total,_={typeUrl:"/cosmos.bank.v1beta1.MsgSend",value:D.MsgSend.encode({fromAddress:(yield t.walletService.getAccount()).address,toAddress:c.seller_address,amount:[{denom:"uatom",amount:k.toString()}]}).finish()},m={"@type":"/cosmos.bank.v1beta1.MsgSend",from_address:(yield t.walletService.getAccount()).address,to_address:c.seller_address,amount:[{denom:"uatom",amount:k.toString()}]},f=new Map([["h",i]]),z=t.protocolService.buildURN(g.N.chain.chainId,"deposit",f);(yield t.modalCtrl.create({keyboardClose:!0,backdropDismiss:!1,component:E.l,componentProps:{urn:z,metadata:null,data:null,routerLink:["/app/market",t.token.ticker],resultCTA:"Back to market",metaprotocol:"marketplace",metaprotocolAction:"deposit",messages:[_],messagesJSON:[m]}})).present()})()}buy(i){var t=this;return(0,A.Z)(function*(){t.loadingListing="Loading listing...";const d=yield(0,x.qo)(g.N.api.endpoint)("query")({marketplace_listing:[{where:{transaction:{hash:{_eq:i}}}},{seller_address:!0,total:!0,deposit_total:!0,is_deposited:!0,is_cancelled:!0,is_filled:!0}]});if(t.loadingListing=!1,0==d.marketplace_listing.length)return void alert("Listing not found");const c=d.marketplace_listing[0];if(!t.walletService.hasWallet())return void(yield t.modalCtrl.create({keyboardClose:!0,backdropDismiss:!0,component:O.f,cssClass:"wallet-required-modal"})).present();let k=c.total;const _=c.deposit_total;_>k?k=BigInt(1):k-=_;let m=parseFloat(k.toString())/10**t.token.decimals;const f={typeUrl:"/cosmos.bank.v1beta1.MsgSend",value:D.MsgSend.encode({fromAddress:(yield t.walletService.getAccount()).address,toAddress:c.seller_address,amount:[{denom:"uatom",amount:k.toString()}]}).finish()},z={"@type":"/cosmos.bank.v1beta1.MsgSend",from_address:(yield t.walletService.getAccount()).address,to_address:c.seller_address,amount:[{denom:"uatom",amount:k.toString()}]};let $=g.N.fees.protocol.marketplace["buy.cft20"].amount;if("dynamic-percent"==g.N.fees.protocol.marketplace["buy.cft20"].type){let B=m*parseFloat(g.N.fees.protocol.marketplace["buy.cft20"].amount);B<1e-6&&(B=1e-6),B*=10**t.token.decimals,$=B.toFixed(0)}const ge=new Map([["h",i]]),ke=t.protocolService.buildURN(g.N.chain.chainId,"buy.cft20",ge);(yield t.modalCtrl.create({keyboardClose:!0,backdropDismiss:!1,component:E.l,componentProps:{urn:ke,metadata:null,data:null,routerLink:["/app/market",t.token.ticker],resultCTA:"Back to market",metaprotocol:"marketplace",metaprotocolAction:"buy.cft20",messages:[f],messagesJSON:[z],overrideFee:$}})).present()})()}cancel(i){var t=this;return(0,A.Z)(function*(){if(!t.walletService.hasWallet())return void(yield t.modalCtrl.create({keyboardClose:!0,backdropDismiss:!0,component:O.f,cssClass:"wallet-required-modal"})).present();const a=new Map([["h",i]]),d=t.protocolService.buildURN(g.N.chain.chainId,"delist",a);(yield t.modalCtrl.create({keyboardClose:!0,backdropDismiss:!1,component:E.l,componentProps:{urn:d,metadata:null,data:null,routerLink:["/app/market",t.token.ticker],resultCTA:"Back to market",metaprotocol:"marketplace",metaprotocolAction:"delist"}})).present()})()}listSale(){var i=this;return(0,A.Z)(function*(){(yield i.modalCtrl.create({keyboardClose:!0,backdropDismiss:!0,component:F.t,componentProps:{ticker:i.token.ticker}})).present()})()}customSort(i){var t,a,d;(console.log(i.field),"marketplace_listing.total"==i.field)&&(null===(a=i.data)||void 0===a||a.sort((c,k)=>{let _=parseInt(c.marketplace_listing.total),m=parseInt(k.marketplace_listing.total),f=null;return f=null==_&&null!=m?-1:null!=_&&null==m?1:null==_&&null==m?0:_<m?-1:_>m?1:0,i.order*f}));"marketplace_listing.deposit_total"==i.field&&(null===(d=i.data)||void 0===d||d.sort((c,k)=>{let _=parseInt(c.marketplace_listing.deposit_total)/parseInt(c.marketplace_listing.total),m=parseInt(k.marketplace_listing.deposit_total)/parseInt(k.marketplace_listing.total),f=null;return f=null==_&&null!=m?-1:null!=_&&null==m?1:null==_&&null==m?0:_<m?-1:_>m?1:0,i.order*f}));null===(t=i.data)||void 0===t||t.sort((c,k)=>{let _=c[i.field],m=k[i.field],f=null;return f=null==_&&null!=m?-1:null!=_&&null==m?1:null==_&&null==m?0:"string"==typeof _&&"string"==typeof m?_.localeCompare(m):_<m?-1:_>m?1:0,i.order*f})}}(S=H).\u0275fac=function(i){return new(i||S)(e.Y36(J.gz),e.Y36(K.J),e.Y36(r.IN),e.Y36(r.Br),e.Y36(W.X),e.Y36(y.N))},S.\u0275cmp=e.Xpm({type:S,selectors:[["app-trade-token-v2"]],standalone:!0,features:[e.jDz],decls:19,vars:4,consts:[["fullscreen","true"],[3,"isOpen"],["style","padding:50px"],["size","12","offset","0","size-md","12","offset-md","0","size-md","10","offset-md","1","size-xl","10","offset-xl","1"],[1,"no-shadow"],["slot","start"],["defaultHref","/app/markets"],[4,"ngIf"],["size","12","offset","0","size-md","12","offset-md","0","size-md","10","offset-md","1","size-xl","10","offset-xl","1",1,"main-content"],["class","loading p-4",4,"ngIf"],["class","aligned",4,"ngIf"],[2,"height","100px"],[2,"padding","50px","--background","hsla(0, 0%, 100%, .05) !important","background-color","hsla(0, 0%, 100%, .05) !important","backdrop-filter","blur(50px) !important"],[2,"margin","0px 40px 0 40px"],[1,"loading","p-4"],["type","indeterminate"],[1,"aligned"],["size","12","size-lg","4"],[1,"token-stats"],[1,"key"],[1,"value","ms-3"],["size","12",1,"text-end"],["color","primary","fill","outline",3,"click"],["class","mb-3",4,"ngIf"],["size","12"],["value","buy","color","primary",3,"ionChange"],["value","buy"],["value","activity"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} listings","styleClass","token-list","sortField","ppt",3,"customSort","value","tableStyle","paginator","rows","showCurrentPageReport","globalFilterFields","defaultSortOrder","sortFunction",4,"ngIf"],["currentPageReportTemplate","Showing last 500 sales","styleClass","token-list","sortField","transaction.date_created",3,"value","tableStyle","paginator","rows","showCurrentPageReport","globalFilterFields","sortOrder",4,"ngIf"],[1,"mb-3"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} listings","styleClass","token-list","sortField","id",3,"value","tableStyle","paginator","rows","showCurrentPageReport","globalFilterFields","defaultSortOrder"],["data",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pSortableColumn","id","pFrozenColumn",""],["field","id"],["pSortableColumn","ppt"],["field","ppt"],["pSortableColumn","amount"],["field","amount"],["pSortableColumn","marketplace_listing.total"],["field","marketplace_listing.total"],["pSortableColumn","marketplace_listing.deposit_total"],["field","marketplace_listing.deposit_total"],["pSortableColumn","date_created"],["field","date_created"],[1,"no-click"],["pFrozenColumn",""],[1,"mono"],[1,"text-end"],["fill","outline","color","success",3,"click",4,"ngIf"],["fill","outline","color","warning",3,"click",4,"ngIf"],["fill","outline","color","success",3,"click"],["fill","outline","color","warning",3,"click"],["colspan","4"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} listings","styleClass","token-list","sortField","ppt",3,"customSort","value","tableStyle","paginator","rows","showCurrentPageReport","globalFilterFields","defaultSortOrder","sortFunction"],["currentPageReportTemplate","Showing last 500 sales","styleClass","token-list","sortField","transaction.date_created",3,"value","tableStyle","paginator","rows","showCurrentPageReport","globalFilterFields","sortOrder"],["pSortableColumn","rate"],["field","rate"],["pSortableColumn","amount_base"],["field","amount_base"],["pSortableColumn","total_usd"],["field","total_usd"],["pSortableColumn","seller_address"],["field","seller_address"],["pSortableColumn","buyer_address"],["field","buyer_address"],[1,"mono",3,"ngStyle"],[3,"href"]],template:function(i,t){1&i&&(e.TgZ(0,"ion-content",0)(1,"ion-modal",1),e.YNc(2,Y,20,1,"ng-template",2),e.qZA(),e.TgZ(3,"ion-grid")(4,"ion-row")(5,"ion-col",3)(6,"ion-header",4)(7,"ion-toolbar")(8,"ion-buttons",5),e._UZ(9,"ion-menu-button")(10,"ion-back-button",6),e.qZA(),e.TgZ(11,"ion-title"),e.YNc(12,Q,2,1,"span",7),e._uU(13," / ATOM Market "),e.qZA()()()()(),e.TgZ(14,"ion-row")(15,"ion-col",8),e.YNc(16,R,4,0,"div",9)(17,me,47,35,"div",10),e._UZ(18,"div",11),e.qZA()()()()),2&i&&(e.xp6(1),e.Q6J("isOpen",t.loadingListing),e.xp6(11),e.Q6J("ngIf",!t.isLoading),e.xp6(4),e.Q6J("ngIf",t.isLoading),e.xp6(1),e.Q6J("ngIf",!t.isLoading))},dependencies:[r.Pc,r.YG,r.Sm,r.wI,r.W2,r.jY,r.Gu,r.Q$,r.fG,r.X7,r.Nd,r.cJ,r.GO,r.yW,r.wd,r.sr,r.ki,r.QI,r.oU,T.ez,T.O5,T.PC,T.Ov,T.JJ,u.u5,v.x,C.u,P.U$,P.iA,V.jx,P.lQ,P.on,P.fz,o.R],styles:["h1[_ngcontent-%COMP%]{font-size:36px}.meta[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:14px;color:#ddd;font-weight:600;display:block}.meta[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:14px;color:#fff;font-weight:400;display:block}.meta[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color-teal)}.token-holdings-list[_ngcontent-%COMP%]{margin-left:0;margin-bottom:50px}.token-holdings-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{padding:5px;cursor:pointer;border-bottom:1px solid rgba(119,119,119,.2)}.token-holdings-list[_ngcontent-%COMP%]   .item.interactable[_ngcontent-%COMP%]{color:#ccc}.token-holdings-list[_ngcontent-%COMP%]   .item.interactable[_ngcontent-%COMP%]:hover{color:#57aaa7}.token-holdings-list[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{text-align:right}.token-stats[_ngcontent-%COMP%]{background-color:#0003;border-radius:10px;padding:10px}.token-stats[_ngcontent-%COMP%]   .key[_ngcontent-%COMP%]{font-weight:600;color:#ffffffe6}.token-stats[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:#fff9}"]})}}]);