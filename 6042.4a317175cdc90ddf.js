"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6042],{66042:(S,_,o)=>{o.r(_),o.d(_,{GenericViewerPage:()=>l});var c,g=o(15861),a=o(96814),u=o(60095),r=o(93800),m=o(10044),p=o(14391),h=o(20553),f=o(54931),s=o(68890),w=o(84525),x=o(43490),d=o(15075),n=o(19212),v=o(6593);function P(i,t){if(1&i&&(n.TgZ(0,"div",15),n._uU(1),n.TgZ(2,"span",16),n._uU(3),n.qZA()()),2&i){const e=n.oxw();n.xp6(1),n.AsE("Inscription #",e.inscription.id-1,": ",e.inscription.name," "),n.xp6(2),n.Oqu(e.inscription.mime)}}function T(i,t){if(1&i&&(n.TgZ(0,"ion-button",17),n._uU(1," Download "),n._UZ(2,"ion-icon",18),n.qZA()),2&i){const e=n.oxw();n.Q6J("href",e.inscription.content_path)}}const Z=i=>["/app/inscription",i];function O(i,t){if(1&i&&(n.TgZ(0,"ion-button",19),n._uU(1," View on Asteroids "),n._UZ(2,"ion-icon",20),n.qZA()),2&i){const e=n.oxw();n.Q6J("routerLink",n.VKq(1,Z,e.inscription.transaction.hash))}}function E(i,t){1&i&&(n.TgZ(0,"div"),n._UZ(1,"ion-progress-bar",21),n.qZA())}function U(i,t){if(1&i&&n._UZ(0,"img",30),2&i){const e=n.oxw(2);n.Q6J("src",e.inscription.content_path,n.LSH)}}function C(i,t){if(1&i&&(n.TgZ(0,"video",31),n._UZ(1,"source",32),n._uU(2," Video not supported by browser "),n.qZA()),2&i){const e=n.oxw(2);n.xp6(1),n.Q6J("src",e.inscription.content_path,n.LSH)("type",e.inscription.mime)}}function M(i,t){if(1&i&&(n.TgZ(0,"audio",33),n._UZ(1,"source",32)(2,"source",34),n._uU(3," Audio not supported by browser "),n.qZA()),2&i){const e=n.oxw(2);n.xp6(1),n.Q6J("src",e.inscription.content_path,n.LSH)("type",e.inscription.mime),n.xp6(1),n.Q6J("src",e.inscription.content_path,n.LSH)}}function D(i,t){if(1&i&&n._UZ(0,"iframe",35),2&i){const e=n.oxw(2);n.Q6J("src",e.untrustedURL,n.uOi)}}function b(i,t){if(1&i&&(n.TgZ(0,"div",36)(1,"ng-scrollbar",37),n._UZ(2,"markdown",38),n.qZA()()),2&i){const e=n.oxw(2);n.xp6(2),n.Q6J("src",e.inscription.content_path)}}function A(i,t){if(1&i&&n._UZ(0,"markdown",39),2&i){const e=n.oxw(2);n.Q6J("src",e.inscription.content_path)}}function L(i,t){if(1&i&&n._UZ(0,"markdown",39),2&i){const e=n.oxw(2);n.Q6J("src",e.inscription.content_path)}}function I(i,t){if(1&i&&(n.TgZ(0,"div",40)(1,"p"),n._uU(2),n.qZA(),n.TgZ(3,"ion-button",41),n._uU(4," Download "),n._UZ(5,"ion-icon",18),n.qZA()()),2&i){const e=n.oxw(2);n.xp6(2),n.hij("No viewer available for ",e.humanType," content."),n.xp6(1),n.Q6J("href",e.inscription.content_path)}}function y(i,t){if(1&i&&(n.TgZ(0,"div",22),n.YNc(1,U,1,1,"img",23)(2,C,3,2,"video",24)(3,M,4,3,"audio",25)(4,D,1,1,"iframe",26)(5,b,3,1,"div",27)(6,A,1,1,"markdown",28)(7,L,1,1,"markdown",28)(8,I,6,2,"div",29),n.qZA()),2&i){const e=n.oxw();n.Q6J("ngSwitch",e.humanType),n.xp6(1),n.Q6J("ngSwitchCase","Image"),n.xp6(1),n.Q6J("ngSwitchCase","Video"),n.xp6(1),n.Q6J("ngSwitchCase","Audio"),n.xp6(1),n.Q6J("ngSwitchCase","HTML"),n.xp6(1),n.Q6J("ngSwitchCase","Markdown"),n.xp6(1),n.Q6J("ngSwitchCase","Text"),n.xp6(1),n.Q6J("ngSwitchCase","JSON")}}function J(i,t){1&i&&(n.TgZ(0,"div",42)(1,"div",43),n._UZ(2,"ion-icon",44),n.TgZ(3,"div",45),n._uU(4,"Explicit content"),n.qZA()()())}class l{constructor(t,e){this.activatedRoute=t,this.sanitizer=e,this.isLoading=!0,this.humanType="",(0,w.a)({cloudDownloadOutline:s.V30,linkOutline:s.m5T,eyeOffOutline:s.qRO})}ngOnInit(){var t=this;return(0,g.Z)(function*(){const Q=yield(0,f.qo)(h.N.api.endpoint)("query")({inscription:[{where:{transaction:{hash:{_eq:t.activatedRoute.snapshot.params.txhash}}}},{id:!0,height:!0,transaction:{hash:!0},creator:!0,current_owner:!0,content_path:!0,content_size_bytes:!0,date_created:!0,is_explicit:!0,__alias:{name:{metadata:[{path:"$.metadata.name"},!0]},description:{metadata:[{path:"$.metadata.description"},!0]},mime:{metadata:[{path:"$.metadata.mime"},!0]}}}]});t.inscription=Q.inscription[0],t.humanType=m.o.prototype.transform(t.inscription.mime),t.untrustedURL=t.sanitizer.bypassSecurityTrustResourceUrl(t.inscription.content_path),t.isLoading=!1})()}}(c=l).\u0275fac=function(t){return new(t||c)(n.Y36(p.gz),n.Y36(v.H7))},c.\u0275cmp=n.Xpm({type:c,selectors:[["app-generic-viewer"]],standalone:!0,features:[n.jDz],decls:21,vars:6,consts:[["mode","md"],[1,"darken"],[1,"branding"],[1,"no-shadow"],["href","/"],["src","../../assets/logo/asteroid-white-transparent-narrow.png"],["class","ms-3 d-inline-block",4,"ngIf"],[1,"m-0","p-0","ps-3"],["fill","clear","class","m-0",3,"href",4,"ngIf"],["fill","clear","class","m-0",3,"routerLink",4,"ngIf"],["offset","3","size","6"],[4,"ngIf"],["size","12"],["class","viewer text-center",3,"ngSwitch",4,"ngIf"],["class","viewer text-center",4,"ngIf"],[1,"ms-3","d-inline-block"],[1,"mime-note"],["fill","clear",1,"m-0",3,"href"],["name","cloud-download-outline",1,"ps-2"],["fill","clear",1,"m-0",3,"routerLink"],["name","link-outline",1,"ps-2"],["type","indeterminate"],[1,"viewer","text-center",3,"ngSwitch"],["class","rounded",3,"src",4,"ngSwitchCase"],["class","rounded","controls","",4,"ngSwitchCase"],["controls","",4,"ngSwitchCase"],["width","100%","height","100%","sandbox","allow-scripts",3,"src",4,"ngSwitchCase"],["class","main-content text-start p-3 full",4,"ngSwitchCase"],["lineNumbers","",3,"src",4,"ngSwitchCase"],["class","no-preview",4,"ngSwitchDefault"],[1,"rounded",3,"src"],["controls","",1,"rounded"],[3,"src","type"],["controls",""],["type","audio/wav",3,"src"],["width","100%","height","100%","sandbox","allow-scripts",3,"src"],[1,"main-content","text-start","p-3","full"],["autoHeightDisabled","false","visibility","hover"],[3,"src"],["lineNumbers","",3,"src"],[1,"no-preview"],["fill","clear",3,"href"],[1,"viewer","text-center"],[1,"explicit","mx-auto"],["name","eye-off-outline"],[1,"note"]],template:function(t,e){1&t&&(n.TgZ(0,"ion-content",0),n._UZ(1,"div",1),n.TgZ(2,"ion-grid")(3,"ion-row")(4,"ion-col",2)(5,"ion-header",3)(6,"ion-toolbar")(7,"ion-title")(8,"a",4),n._UZ(9,"img",5),n.qZA(),n.YNc(10,P,4,3,"div",6),n.TgZ(11,"span",7),n.YNc(12,T,3,1,"ion-button",8)(13,O,3,3,"ion-button",9),n.qZA()()()()()(),n.TgZ(14,"ion-row")(15,"ion-col",10),n.YNc(16,E,2,0,"div",11),n.qZA()(),n.TgZ(17,"ion-row")(18,"ion-col",12),n.YNc(19,y,9,8,"div",13)(20,J,5,0,"div",14),n.qZA()()()()),2&t&&(n.xp6(10),n.Q6J("ngIf",!e.isLoading),n.xp6(2),n.Q6J("ngIf",!e.isLoading),n.xp6(1),n.Q6J("ngIf",!e.isLoading),n.xp6(3),n.Q6J("ngIf",e.isLoading),n.xp6(3),n.Q6J("ngIf",!e.isLoading&&!e.inscription.is_explicit),n.xp6(1),n.Q6J("ngIf",!e.isLoading&&e.inscription.is_explicit))},dependencies:[r.Pc,r.YG,r.wI,r.W2,r.jY,r.Gu,r.gu,r.X7,r.Nd,r.wd,r.sr,r.YI,a.ez,a.O5,a.RF,a.n9,a.ED,u.u5,x.lF,p.rH,d.kb,d.KC],styles:["ion-content[_ngcontent-%COMP%]{--ion-background-color: transparent;background:url(flow.cc736c94a18d86d0.png) no-repeat;background-size:cover}@supports (background-image: url(../../assets/background/flow.webp)){ion-content[_ngcontent-%COMP%]{background-image:url(flow.2e810f1d44adc1dd.webp)}}.branding[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100px}.viewer[_ngcontent-%COMP%]{width:100%;height:90vh;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.viewer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}.full[_ngcontent-%COMP%]{height:90vh}.mime-note[_ngcontent-%COMP%]{display:inline-block;font-size:12px;position:relative;opacity:.6;margin-top:-15px}"]})}}]);